{
  "version": 3,
  "sources": ["../../../../app/utils.js"],
  "sourcesContent": ["import {useLocation} from '@remix-run/react';\nimport {useMemo} from 'react';\n\n/**\n * @param {string} handle\n * @param {SelectedOption[]} selectedOptions\n */\nexport function useVariantUrl(handle, selectedOptions) {\n  const {pathname} = useLocation();\n\n  return useMemo(() => {\n    return getVariantUrl({\n      handle,\n      pathname,\n      searchParams: new URLSearchParams(),\n      selectedOptions,\n    });\n  }, [handle, selectedOptions, pathname]);\n}\n\n/**\n * @param {{\n *   handle: string;\n *   pathname: string;\n *   searchParams: URLSearchParams;\n *   selectedOptions: SelectedOption[];\n * }}\n */\nexport function getVariantUrl({\n  handle,\n  pathname,\n  searchParams,\n  selectedOptions,\n}) {\n  const match = /(\\/[a-zA-Z]{2}-[a-zA-Z]{2}\\/)/g.exec(pathname);\n  const isLocalePathname = match && match.length > 0;\n\n  const path = isLocalePathname\n    ? `${match[0]}products/${handle}`\n    : `/products/${handle}`;\n\n  selectedOptions.forEach((option) => {\n    searchParams.set(option.name, option.value);\n  });\n\n  const searchString = searchParams.toString();\n\n  return path + (searchString ? '?' + searchParams.toString() : '');\n}\n\n/** @typedef {import('@shopify/hydrogen/storefront-api-types').SelectedOption} SelectedOption */\n"],
  "mappings": "iHACA,IAAAA,EAAsB,OAMf,SAASC,EAAcC,EAAQC,EAAiB,CACrD,GAAM,CAAC,SAAAC,CAAQ,EAAIC,EAAY,EAE/B,SAAO,WAAQ,IACNC,EAAc,CACnB,OAAAJ,EACA,SAAAE,EACA,aAAc,IAAI,gBAClB,gBAAAD,CACF,CAAC,EACA,CAACD,EAAQC,EAAiBC,CAAQ,CAAC,CACxC,CAUO,SAASE,EAAc,CAC5B,OAAAJ,EACA,SAAAE,EACA,aAAAG,EACA,gBAAAJ,CACF,EAAG,CACD,IAAMK,EAAQ,iCAAiC,KAAKJ,CAAQ,EAGtDK,EAFmBD,GAASA,EAAM,OAAS,EAG7C,GAAGA,EAAM,CAAC,aAAaN,IACvB,aAAaA,IAEjBC,EAAgB,QAASO,GAAW,CAClCH,EAAa,IAAIG,EAAO,KAAMA,EAAO,KAAK,CAC5C,CAAC,EAED,IAAMC,EAAeJ,EAAa,SAAS,EAE3C,OAAOE,GAAQE,EAAe,IAAMJ,EAAa,SAAS,EAAI,GAChE",
  "names": ["import_react", "useVariantUrl", "handle", "selectedOptions", "pathname", "useLocation", "getVariantUrl", "searchParams", "match", "path", "option", "searchString"]
}
