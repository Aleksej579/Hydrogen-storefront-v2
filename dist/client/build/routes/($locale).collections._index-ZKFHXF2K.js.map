{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).collections._index.jsx"],
  "sourcesContent": ["import {useLoaderData, Link} from '@remix-run/react';\nimport {json} from '@shopify/remix-oxygen';\nimport {Pagination, getPaginationVariables, Image} from '@shopify/hydrogen';\n\n/**\n * @param {LoaderFunctionArgs}\n */\nexport async function loader({context, request}) {\n  const paginationVariables = getPaginationVariables(request, {\n    pageBy: 4,\n  });\n\n  const {collections} = await context.storefront.query(COLLECTIONS_QUERY, {\n    variables: paginationVariables,\n  });\n\n  return json({collections});\n}\n\nexport default function Collections() {\n  /** @type {LoaderReturnData} */\n  const {collections} = useLoaderData();\n\n  return (\n    <div className=\"collections mt-6\">\n      <h1>Collections</h1>\n      <Pagination connection={collections}>\n        {({nodes, isLoading, PreviousLink, NextLink}) => (\n          <div>\n            <PreviousLink>\n              {isLoading ? 'Loading...' : <span>\u2191 Load previous</span>}\n            </PreviousLink>\n            <CollectionsGrid collections={nodes} />\n            <NextLink>\n              {isLoading ? 'Loading...' : <span>Load more \u2193</span>}\n            </NextLink>\n          </div>\n        )}\n      </Pagination>\n    </div>\n  );\n}\n\n/**\n * @param {{collections: CollectionFragment[]}}\n */\nfunction CollectionsGrid({collections}) {\n  return (\n    <div className=\"collections-grid\">\n      {collections.map((collection, index) => (\n        <CollectionItem\n          key={collection.id}\n          collection={collection}\n          index={index}\n        />\n      ))}\n    </div>\n  );\n}\n\n/**\n * @param {{\n *   collection: CollectionFragment;\n *   index: number;\n * }}\n */\nfunction CollectionItem({collection, index}) {\n  return (\n    <Link\n      className=\"collection-item\"\n      key={collection.id}\n      to={`/collections/${collection.handle}`}\n      prefetch=\"intent\"\n    >\n      {collection?.image && (\n        <Image\n          alt={collection.image.altText || collection.title}\n          aspectRatio=\"1/1\"\n          data={collection.image}\n          loading={index < 3 ? 'eager' : undefined}\n        />\n      )}\n      <h5>{collection.title}</h5>\n    </Link>\n  );\n}\n\nconst COLLECTIONS_QUERY = `#graphql\n  fragment Collection on Collection {\n    id\n    title\n    handle\n    image {\n      id\n      url\n      altText\n      width\n      height\n    }\n  }\n  query StoreCollections(\n    $country: CountryCode\n    $endCursor: String\n    $first: Int\n    $language: LanguageCode\n    $last: Int\n    $startCursor: String\n  ) @inContext(country: $country, language: $language) {\n    collections(\n      first: $first,\n      last: $last,\n      before: $startCursor,\n      after: $endCursor\n    ) {\n      nodes {\n        ...Collection\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n`;\n\n/** @typedef {import('@shopify/remix-oxygen').LoaderFunctionArgs} LoaderFunctionArgs */\n/** @typedef {import('storefrontapi.generated').CollectionFragment} CollectionFragment */\n/** @typedef {import('@shopify/remix-oxygen').SerializeFrom<typeof loader>} LoaderReturnData */\n"],
  "mappings": "oLAyBM,IAAAA,EAAA,OANS,SAARC,GAA+B,CAEpC,GAAM,CAAC,YAAAC,CAAW,EAAIC,EAAc,EAEpC,SACE,QAAC,OAAI,UAAU,mBACb,oBAAC,MAAG,uBAAW,KACf,OAACC,EAAA,CAAW,WAAYF,EACrB,UAAC,CAAC,MAAAG,EAAO,UAAAC,EAAW,aAAAC,EAAc,SAAAC,CAAQ,OACzC,QAAC,OACC,oBAACD,EAAA,CACE,SAAAD,EAAY,gBAAe,OAAC,QAAK,gCAAe,EACnD,KACA,OAACG,EAAA,CAAgB,YAAaJ,EAAO,KACrC,OAACG,EAAA,CACE,SAAAF,EAAY,gBAAe,OAAC,QAAK,4BAAW,EAC/C,GACF,EAEJ,GACF,CAEJ,CAKA,SAASG,EAAgB,CAAC,YAAAP,CAAW,EAAG,CACtC,SACE,OAAC,OAAI,UAAU,mBACZ,SAAAA,EAAY,IAAI,CAACQ,EAAYC,OAC5B,OAACC,EAAA,CAEC,WAAYF,EACZ,MAAOC,GAFFD,EAAW,EAGlB,CACD,EACH,CAEJ,CAQA,SAASE,EAAe,CAAC,WAAAF,EAAY,MAAAC,CAAK,EAAG,CAC3C,SACE,QAACE,EAAA,CACC,UAAU,kBAEV,GAAI,gBAAgBH,EAAW,SAC/B,SAAS,SAER,UAAAA,GAAY,UACX,OAACI,EAAA,CACC,IAAKJ,EAAW,MAAM,SAAWA,EAAW,MAC5C,YAAY,MACZ,KAAMA,EAAW,MACjB,QAASC,EAAQ,EAAI,QAAU,OACjC,KAEF,OAAC,MAAI,SAAAD,EAAW,MAAM,IAZjBA,EAAW,EAalB,CAEJ",
  "names": ["import_jsx_runtime", "Collections", "collections", "useLoaderData", "rr", "nodes", "isLoading", "PreviousLink", "NextLink", "CollectionsGrid", "collection", "index", "CollectionItem", "Link", "Image"]
}
