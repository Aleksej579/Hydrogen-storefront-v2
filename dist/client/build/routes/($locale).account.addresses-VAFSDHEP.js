import{e as n,g as l,j as u,t as c,y as i}from"/build/_shared/chunk-G2CXSP6I.js";import{c as d}from"/build/_shared/chunk-MEPKJ2VW.js";var e=d(i()),y=()=>[{title:"Addresses"}];function m(){let{customer:r}=n(),{defaultAddress:t,addresses:s}=r;return(0,e.jsxs)("div",{className:"account-addresses",children:[(0,e.jsx)("h2",{children:"Addresses"}),(0,e.jsx)("br",{}),s.nodes.length?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("legend",{children:"Create address"}),(0,e.jsx)(h,{})]}),(0,e.jsx)("br",{}),(0,e.jsx)("hr",{}),(0,e.jsx)("br",{}),(0,e.jsx)(b,{addresses:s,defaultAddress:t})]}):(0,e.jsx)("p",{children:"You have no addresses saved."})]})}function h(){return(0,e.jsx)(p,{address:{address1:"",address2:"",city:"",company:"",country:"",firstName:"",id:"new",lastName:"",phone:"",province:"",zip:""},defaultAddress:null,children:({stateForMethod:t})=>(0,e.jsx)("div",{children:(0,e.jsx)("button",{disabled:t("POST")!=="idle",formMethod:"POST",type:"submit",children:t("POST")!=="idle"?"Creating":"Create"})})})}function b({addresses:r,defaultAddress:t}){return(0,e.jsxs)("div",{children:[(0,e.jsx)("legend",{children:"Existing addresses"}),r.nodes.map(s=>(0,e.jsx)(p,{address:s,defaultAddress:t,children:({stateForMethod:o})=>(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{disabled:o("PUT")!=="idle",formMethod:"PUT",type:"submit",children:o("PUT")!=="idle"?"Saving":"Save"}),(0,e.jsx)("button",{disabled:o("DELETE")!=="idle",formMethod:"DELETE",type:"submit",children:o("DELETE")!=="idle"?"Deleting":"Delete"})]})},s.id))]})}function p({address:r,defaultAddress:t,children:s}){let{state:o,formMethod:A}=l(),a=c()?.error?.[r.id],f=t?.id===r.id;return(0,e.jsx)(u,{id:r.id,children:(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("input",{type:"hidden",name:"addressId",defaultValue:r.id}),(0,e.jsx)("label",{htmlFor:"firstName",children:"First name*"}),(0,e.jsx)("input",{"aria-label":"First name",autoComplete:"given-name",defaultValue:r?.firstName??"",id:"firstName",name:"firstName",placeholder:"First name",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"lastName",children:"Last name*"}),(0,e.jsx)("input",{"aria-label":"Last name",autoComplete:"family-name",defaultValue:r?.lastName??"",id:"lastName",name:"lastName",placeholder:"Last name",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"company",children:"Company"}),(0,e.jsx)("input",{"aria-label":"Company",autoComplete:"organization",defaultValue:r?.company??"",id:"company",name:"company",placeholder:"Company",type:"text"}),(0,e.jsx)("label",{htmlFor:"address1",children:"Address line*"}),(0,e.jsx)("input",{"aria-label":"Address line 1",autoComplete:"address-line1",defaultValue:r?.address1??"",id:"address1",name:"address1",placeholder:"Address line 1*",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"address2",children:"Address line 2"}),(0,e.jsx)("input",{"aria-label":"Address line 2",autoComplete:"address-line2",defaultValue:r?.address2??"",id:"address2",name:"address2",placeholder:"Address line 2",type:"text"}),(0,e.jsx)("label",{htmlFor:"city",children:"City*"}),(0,e.jsx)("input",{"aria-label":"City",autoComplete:"address-level2",defaultValue:r?.city??"",id:"city",name:"city",placeholder:"City",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"province",children:"State / Province*"}),(0,e.jsx)("input",{"aria-label":"State",autoComplete:"address-level1",defaultValue:r?.province??"",id:"province",name:"province",placeholder:"State / Province",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"zip",children:"Zip / Postal Code*"}),(0,e.jsx)("input",{"aria-label":"Zip",autoComplete:"postal-code",defaultValue:r?.zip??"",id:"zip",name:"zip",placeholder:"Zip / Postal Code",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"country",children:"Country*"}),(0,e.jsx)("input",{"aria-label":"Country",autoComplete:"country-name",defaultValue:r?.country??"",id:"country",name:"country",placeholder:"Country",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,e.jsx)("input",{"aria-label":"Phone",autoComplete:"tel",defaultValue:r?.phone??"",id:"phone",name:"phone",placeholder:"+16135551111",pattern:"^\\+?[1-9]\\d{3,14}$",type:"tel"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{defaultChecked:f,id:"defaultAddress",name:"defaultAddress",type:"checkbox"}),(0,e.jsx)("label",{htmlFor:"defaultAddress",children:"Set as default address"})]}),a?(0,e.jsx)("p",{children:(0,e.jsx)("mark",{children:(0,e.jsx)("small",{children:a})})}):(0,e.jsx)("br",{}),s({stateForMethod:g=>A===g?o:"idle"})]})})}export{m as default,y as meta};

