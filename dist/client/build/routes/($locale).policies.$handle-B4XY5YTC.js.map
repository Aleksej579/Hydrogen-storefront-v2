{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).policies.$handle.jsx"],
  "sourcesContent": ["import {json} from '@shopify/remix-oxygen';\nimport {Link, useLoaderData} from '@remix-run/react';\n\n/**\n * @type {MetaFunction<typeof loader>}\n */\nexport const meta = ({data}) => {\n  return [{title: `Hydrogen | ${data?.policy.title ?? ''}`}];\n};\n\n/**\n * @param {LoaderFunctionArgs}\n */\nexport async function loader({params, context}) {\n  if (!params.handle) {\n    throw new Response('No handle was passed in', {status: 404});\n  }\n\n  const policyName = params.handle.replace(/-([a-z])/g, (_, m1) =>\n    m1.toUpperCase(),\n  );\n\n  const data = await context.storefront.query(POLICY_CONTENT_QUERY, {\n    variables: {\n      privacyPolicy: false,\n      shippingPolicy: false,\n      termsOfService: false,\n      refundPolicy: false,\n      [policyName]: true,\n      language: context.storefront.i18n?.language,\n    },\n  });\n\n  const policy = data.shop?.[policyName];\n\n  if (!policy) {\n    throw new Response('Could not find the policy', {status: 404});\n  }\n\n  return json({policy});\n}\n\nexport default function Policy() {\n  /** @type {LoaderReturnData} */\n  const {policy} = useLoaderData();\n\n  return (\n    <div className=\"policy\">\n      <br />\n      <br />\n      <div>\n        <Link to=\"/policies\">\u2190 Back to Policies</Link>\n      </div>\n      <br />\n      <h1>{policy.title}</h1>\n      <div dangerouslySetInnerHTML={{__html: policy.body}} />\n    </div>\n  );\n}\n\n// NOTE: https://shopify.dev/docs/api/storefront/latest/objects/Shop\nconst POLICY_CONTENT_QUERY = `#graphql\n  fragment Policy on ShopPolicy {\n    body\n    handle\n    id\n    title\n    url\n  }\n  query Policy(\n    $country: CountryCode\n    $language: LanguageCode\n    $privacyPolicy: Boolean!\n    $refundPolicy: Boolean!\n    $shippingPolicy: Boolean!\n    $termsOfService: Boolean!\n  ) @inContext(language: $language, country: $country) {\n    shop {\n      privacyPolicy @include(if: $privacyPolicy) {\n        ...Policy\n      }\n      shippingPolicy @include(if: $shippingPolicy) {\n        ...Policy\n      }\n      termsOfService @include(if: $termsOfService) {\n        ...Policy\n      }\n      refundPolicy @include(if: $refundPolicy) {\n        ...Policy\n      }\n    }\n  }\n`;\n\n/**\n * @typedef {keyof Pick<\n *   Shop,\n *   'privacyPolicy' | 'shippingPolicy' | 'termsOfService' | 'refundPolicy'\n * >} SelectedPolicies\n */\n\n/** @typedef {import('@shopify/remix-oxygen').LoaderFunctionArgs} LoaderFunctionArgs */\n/** @template T @typedef {import('@remix-run/react').MetaFunction<T>} MetaFunction */\n/** @typedef {import('@shopify/hydrogen/storefront-api-types').Shop} Shop */\n/** @typedef {import('@shopify/remix-oxygen').SerializeFrom<typeof loader>} LoaderReturnData */\n"],
  "mappings": "wHA+CI,IAAAA,EAAA,OAzCSC,EAAO,CAAC,CAAC,KAAAC,CAAI,IACjB,CAAC,CAAC,MAAO,cAAcA,GAAM,OAAO,OAAS,IAAI,CAAC,EAmC5C,SAARC,GAA0B,CAE/B,GAAM,CAAC,OAAAC,CAAM,EAAIC,EAAc,EAE/B,SACE,QAAC,OAAI,UAAU,SACb,oBAAC,OAAG,KACJ,OAAC,OAAG,KACJ,OAAC,OACC,mBAACC,EAAA,CAAK,GAAG,YAAY,mCAAkB,EACzC,KACA,OAAC,OAAG,KACJ,OAAC,MAAI,SAAAF,EAAO,MAAM,KAClB,OAAC,OAAI,wBAAyB,CAAC,OAAQA,EAAO,IAAI,EAAG,GACvD,CAEJ",
  "names": ["import_jsx_runtime", "meta", "data", "Policy", "policy", "useLoaderData", "Link"]
}
