{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).blogs.$blogHandle._index.jsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/($locale).blogs.$blogHandle._index.jsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/($locale).blogs.$blogHandle._index.jsx\");\n  import.meta.hot.lastModified = \"1702303141194.891\";\n}\n// REMIX HMR END\n\nimport { json } from '@shopify/remix-oxygen';\nimport { Link, useLoaderData } from '@remix-run/react';\nimport { Image, Pagination, getPaginationVariables } from '@shopify/hydrogen';\n\n/**\n * @type {MetaFunction<({ request, params, context: { storefront }, }: LoaderFunctionArgs) => unknown>}\n */\nexport const meta = ({\n  data\n}) => {\n  return [{\n    title: `Hydrogen | ${data?.blog.title ?? ''} blog`\n  }];\n};\n\n/**\n * @param {LoaderFunctionArgs}\n */\nexport const loader = async ({\n  request,\n  params,\n  context: {\n    storefront\n  }\n}) => {\n  const paginationVariables = getPaginationVariables(request, {\n    pageBy: 4\n  });\n  if (!params.blogHandle) {\n    throw new Response(`blog not found`, {\n      status: 404\n    });\n  }\n  const {\n    blog\n  } = await storefront.query(BLOGS_QUERY, {\n    variables: {\n      blogHandle: params.blogHandle,\n      ...paginationVariables\n    }\n  });\n  if (!blog?.articles) {\n    throw new Response('Not found', {\n      status: 404\n    });\n  }\n  return json({\n    blog\n  });\n};\nexport default function Blog() {\n  _s();\n  /** @type {LoaderReturnData} */\n  const {\n    blog\n  } = useLoaderData();\n  const {\n    articles\n  } = blog;\n  return <div className=\"blog\">\n      <h1>{blog.title}</h1>\n      <div className=\"blog-grid\">\n        <Pagination connection={articles}>\n          {({\n          nodes,\n          isLoading,\n          PreviousLink,\n          NextLink\n        }) => {\n          return <>\n                <PreviousLink>\n                  {isLoading ? 'Loading...' : <span>\u2191 Load previous</span>}\n                </PreviousLink>\n                {nodes.map((article, index) => {\n              return <ArticleItem article={article} key={article.id} loading={index < 2 ? 'eager' : 'lazy'} />;\n            })}\n                <NextLink>\n                  {isLoading ? 'Loading...' : <span>Load more \u2193</span>}\n                </NextLink>\n              </>;\n        }}\n        </Pagination>\n      </div>\n    </div>;\n}\n\n/**\n * @param {{\n *   article: ArticleItemFragment;\n *   loading?: HTMLImageElement['loading'];\n * }}\n */\n_s(Blog, \"SHOFUFk+9xRgdR41JGjHYbh9Fpc=\", false, function () {\n  return [useLoaderData];\n});\n_c = Blog;\nfunction ArticleItem({\n  article,\n  loading\n}) {\n  const publishedAt = new Intl.DateTimeFormat('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  }).format(new Date(article.publishedAt));\n  return <div className=\"blog-article\" key={article.id}>\n      <Link to={`/blogs/${article.blog.handle}/${article.handle}`}>\n        {article.image && <div className=\"blog-article-image\">\n            <Image alt={article.image.altText || article.title} aspectRatio=\"3/2\" data={article.image} loading={loading} sizes=\"(min-width: 768px) 50vw, 100vw\" />\n          </div>}\n        <h3>{article.title}</h3>\n        <small>{publishedAt}</small>\n      </Link>\n    </div>;\n}\n\n// NOTE: https://shopify.dev/docs/api/storefront/latest/objects/blog\n_c2 = ArticleItem;\nconst BLOGS_QUERY = `#graphql\n  query Blog(\n    $language: LanguageCode\n    $blogHandle: String!\n    $first: Int\n    $last: Int\n    $startCursor: String\n    $endCursor: String\n  ) @inContext(language: $language) {\n    blog(handle: $blogHandle) {\n      title\n      seo {\n        title\n        description\n      }\n      articles(\n        first: $first,\n        last: $last,\n        before: $startCursor,\n        after: $endCursor\n      ) {\n        nodes {\n          ...ArticleItem\n        }\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n          hasNextPage\n          endCursor\n          startCursor\n        }\n\n      }\n    }\n  }\n  fragment ArticleItem on Article {\n    author: authorV2 {\n      name\n    }\n    contentHtml\n    handle\n    id\n    image {\n      id\n      altText\n      url\n      width\n      height\n    }\n    publishedAt\n    title\n    blog {\n      handle\n    }\n  }\n`;\n\n/** @typedef {import('@shopify/remix-oxygen').LoaderFunctionArgs} LoaderFunctionArgs */\n/** @template T @typedef {import('@remix-run/react').MetaFunction<T>} MetaFunction */\n/** @typedef {import('storefrontapi.generated').ArticleItemFragment} ArticleItemFragment */\n/** @typedef {import('@shopify/remix-oxygen').SerializeFrom<typeof loader>} LoaderReturnData */\nvar _c, _c2;\n$RefreshReg$(_c, \"Blog\");\n$RefreshReg$(_c2, \"ArticleItem\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
